We will implement three major improvements in the system:

1ï¸âƒ£ Reports and Analytics module update
2ï¸âƒ£ Database tab enhancement
3ï¸âƒ£ Complete Role and Permission structure

ğŸ”¹ 1. Reports and Analytics Module Update

The current filters only include Date Range, Store, and Product.
We need to expand them to include Chain, Zone, and User, and reorder them so that Date Range appears first.

ğŸ”¸ New filter set

1ï¸âƒ£ Date Range

Should appear first.

Select start and end dates for analysis.

Affects all displayed results.

2ï¸âƒ£ Chain

Dropdown to select a retail chain.

Updates available zones and stores dynamically.

3ï¸âƒ£ Zone

Dependent on the selected chain.

Shows all zones if no chain is selected.

Updates stores when selected.

4ï¸âƒ£ Store

Dependent on the selected zone.

Shows all stores if no zone is selected.

5ï¸âƒ£ User (Promoter)

Dropdown to select a specific user.

For Analyst, Supervisor, and Administrator â†’ show all users.

For Promoter â†’ locked, showing only their own name.

6ï¸âƒ£ Product

Keep the existing product filter.

ğŸ”¸ Recommended visual order

Row 1: Date Range | Chain | Zone
Row 2: Store | User | Product
Row 3: Action buttons

Apply Filters (purple style)

Clear / Reset Filters (gray style)

ğŸ”¸ Expected behavior

Filters must be dependent:

Date Range â†’ applies to all.

Chain â†’ updates Zones.

Zone â†’ updates Stores.

Filters can be freely combined.

If nothing is selected, show all available data.

Results must update dynamically without page reload.

âœ… Final goal

The Reports and Analytics module should include all filters in this order:
Date Range â†’ Chain â†’ Zone â†’ Store â†’ User â†’ Product.

Filters must be dynamic, dependent, and keep the current clean design.

ğŸ”¹ 2. Database Tab Enhancement

The Data Base tab currently allows downloading the database structure and viewing backup logs.
Letâ€™s add a new section listing all tables and their creation dates.

ğŸ”¸ New section: â€œCurrent Database Tablesâ€

Show a list of all tables in the PostgreSQL schema.

Each row must display:

Table name

Creation date

Retrieve data from pg_catalog.pg_class or equivalent.

ğŸ”¸ Display format

Use a clean DataTable component below the backup logs.

Columns: ğŸ—‚ï¸ Table | ğŸ“… Creation Date

Sort by date (newest first).

Optionally add a â€œNewâ€ label for recently created tables.

Include search/filter by table name.

ğŸ”¸ Access

Visible only for Administrator or Superadmin roles.

Hidden for Supervisor, Analyst, and Promoter roles.

âœ… Final goal

The Data Base tab should include:
1ï¸âƒ£ Structure download button (.sql)
2ï¸âƒ£ Backup history table (existing)
3ï¸âƒ£ A new section listing all database tables with creation dates.

ğŸ”¹ 3. Role and Permission Structure

Implement role-based navigation and permissions.

ğŸŸ£ Promoter Role

Sidebar: Home, Visits

Home content: Todayâ€™s Visits, Monthly Visits, Pending

Quick Actions: New Visit, My Visits

Restrictions:

No access to Configuration, Data Base, or Reports

Cannot edit or delete other usersâ€™ data

ğŸŸ£ Analyst Role

Sidebar: Home, Visits, Reports

Home: consolidated info for all users

Quick Actions: full access

Reports: full read-only access

No access to Data Base

ğŸŸ£ Supervisor Role

Sidebar: Home, Visits, Reports, Configuration

Home: shows all promoters in their zones/chains

Quick Actions: full access

Reports: full read access

Restrictions:

Cannot delete users

Cannot view Data Base

Can create/edit users, chains, zones, stores, and products

ğŸŸ£ Administrator Role

Sidebar: Home, Visits, Reports, Configuration, Data Base

Full system access

Can create, edit, delete, and back up data

Quick Actions: full access

âœ… Final goal

Navigation, content, and permissions must adapt automatically based on user role.

Progressive access hierarchy:
Promoter â†’ Analyst â†’ Supervisor â†’ Administrator.